const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-DWtoobro.js","assets/vendor-eig4BuGd.js","assets/BookCard-xmxI1mOF.js","assets/Login-BtWjkzys.js","assets/Register-BRg8BP3V.js","assets/List-D7n0HuPv.js","assets/Details-DYcIX8_M.js","assets/Order-DAtg-kEB.js","assets/OrderDetail-hy1BDqn3.js"])))=>i.map(i=>d[i]);
import{r as p,i as W,g as z,a as T,b as F,G as V,o as q,j as e,c as M,s as H,d as $,e as G,f as R,u as K,h as I,k as w,l as E,m as Y,n as X,p as Z,q as J,w as Q,t as ee,L as y,v as te,R as a,B as se,x as oe,A as re,y as ne,z as g,N as ie,C as ae}from"./vendor-eig4BuGd.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))h(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&h(o)}).observe(document,{childList:!0,subtree:!0});function u(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function h(s){if(s.ep)return;s.ep=!0;const r=u(s);fetch(s.href,r)}})();const C=p.createContext(null),le={apiKey:"AIzaSyBANuZRXNFzSNxyMAagWDH2INUpYBcYhHc",authDomain:"bookify-4da1b.firebaseapp.com",projectId:"bookify-4da1b",storageBucket:"bookify-4da1b.appspot.com",messagingSenderId:"1040037251482",appId:"1:1040037251482:web:435d1ef946ec3bdc9ed223"},A=W(le),k=z(A),v=T(A),O=F(A),ce=new V,de=()=>p.useContext(C),ue=({children:l})=>{const[t,u]=p.useState(null);p.useEffect(()=>{const n=q(k,i=>{u(i||null)});return()=>n()},[]);const h=(n,i)=>M(k,n,i),s=(n,i)=>H(k,n,i),r=()=>$(k,ce),o=()=>G(k),c=async(n,i,_,P)=>{const D=R(O,`uploads/images/${Date.now()}-${P.name}`),U=await K(D,P);await I(w(v,"books"),{name:n,isbn:i,price:_,imageURL:U.ref.fullPath,userID:t.uid,userEmail:t.email,displayName:t.displayName,photoURL:t.photoURL})},d=()=>E(w(v,"books")),m=async n=>{const i=Y(v,"books",n);return X(i)},f=n=>Z(R(O,n)),x=async(n,i)=>{const _=w(v,"books",n,"order");return I(_,{userID:t.uid,userEmail:t.email,displayName:t.displayName,photoURL:t.photoURL,qty:Number(i)})},L=async n=>{const i=J(w(v,"books"),Q("userID","==",n));return E(i)},N=async n=>{const i=w(v,"books",n,"order");return E(i)},B=!!t;return e.jsx(C.Provider,{value:{signupUserWithEmailAndPassword:h,signinUserWithEmailAndPassword:s,signinWithGoogle:r,handleCreateNewListing:c,listAllBooks:d,getImageURL:f,getBookById:m,placeOrder:x,fetchMyBooks:L,getOrders:N,logout:o,isLoggedIn:B,user:t},children:l})},he="modulepreload",xe=function(l){return"/Bookify/"+l},S={},b=function(t,u,h){let s=Promise.resolve();if(u&&u.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(u.map(d=>{if(d=xe(d),d in S)return;S[d]=!0;const m=d.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":he,m||(x.as="script"),x.crossOrigin="",x.href=d,c&&x.setAttribute("nonce",c),document.head.appendChild(x),m)return new Promise((L,N)=>{x.addEventListener("load",L),x.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&r(c.reason);return t().catch(r)})},me="/Bookify/assets/Logo-Hb6gwIbO.png",ge=()=>{const[l,t]=p.useState(!1),[u,h]=p.useState(""),{user:s,logout:r}=de(),o=ee(),c=()=>{t(f=>!f)},d=async()=>{try{await r(),h("Log Out Successfully"),setTimeout(()=>{h(""),o("/login")},3e3)}catch(f){console.error("Logout Error:",f),h("Logout failed. Please try again.")}},m=()=>{o("/login")};return e.jsxs("div",{children:[e.jsxs("nav",{className:"bg-[#202020] fixed w-full h-16 z-10",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between max-w-screen-xl py-4 mx-auto px-7",children:[e.jsxs("a",{href:"#",className:"flex items-center space-x-3 rtl:space-x-reverse",children:[e.jsx("img",{src:me,className:"h-8",alt:"Bookify"}),e.jsx("span",{className:"self-center text-2xl font-light text-white font-girassol whitespace-nowrap",children:"Bookify"})]}),e.jsx("div",{className:"flex items-center lg:hidden",children:e.jsx("button",{onClick:c,className:"text-white",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})}),e.jsx("div",{className:"items-center justify-between hidden w-full text-lg font-normal lg:flex md:w-auto md:order-1",children:e.jsxs("ul",{className:"flex flex-col p-4 mt-4 md:p-0 lg:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0",children:[e.jsx("li",{children:e.jsx(y,{to:"/",className:"block py-2 px-3 text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:border-gray-700",children:"Home"})}),e.jsx("li",{children:e.jsx(y,{to:"/book/list",className:"block py-2 px-3 text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:border-gray-700",children:"Add Listing"})}),e.jsx("li",{children:e.jsx(y,{to:"/book/orders",className:"block py-2 px-3 text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:border-gray-700",children:"Orders"})}),e.jsx("li",{children:s?e.jsx("button",{onClick:d,className:"text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700",children:"Log Out"}):e.jsx("button",{onClick:m,className:"text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700",children:"Log In"})})]})})]}),e.jsx("div",{className:`${l?"max-h-screen opacity-100":"max-h-0 opacity-0"} lg:hidden overflow-hidden transition-all duration-500 ease-in-out`,children:e.jsxs("ul",{className:"flex flex-col p-4 space-y-2 bg-gray-800",children:[e.jsx("li",{children:e.jsx(y,{to:"/",className:"block py-2 px-3 text-white rounded hover:bg-gray-700",onClick:()=>t(!1),children:"Home"})}),e.jsx("li",{children:e.jsx(y,{to:"/book/list",className:"block py-2 px-3 text-white rounded hover:bg-gray-700",onClick:()=>t(!1),children:"Add Listing"})}),e.jsx("li",{children:e.jsx(y,{to:"/book/orders",className:"block py-2 px-3 text-white rounded hover:bg-gray-700",onClick:()=>t(!1),children:"Orders"})}),e.jsx("li",{children:s?e.jsx("button",{onClick:()=>{d(),t(!1)},className:"px-3 py-2 text-white rounded hover:bg-gray-700",children:"Log Out"}):e.jsx("button",{onClick:()=>{m(),t(!1)},className:"px-3 py-2 text-white rounded hover:bg-gray-700",children:"Log In"})})]})})]}),u&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-20",children:e.jsx("div",{className:"p-4 bg-green-500 text-white rounded",children:u})})]})},pe={initial:{opacity:0,x:"-100vw"},in:{opacity:1,x:0},out:{opacity:0,x:"100vw"}},fe={duration:.5,ease:"easeInOut"},j=({children:l})=>e.jsx(te.div,{initial:"initial",animate:"in",exit:"out",variants:pe,transition:fe,children:l}),je=a.lazy(()=>b(()=>import("./Home-DWtoobro.js"),__vite__mapDeps([0,1,2]))),be=a.lazy(()=>b(()=>import("./Login-BtWjkzys.js"),__vite__mapDeps([3,1]))),ye=a.lazy(()=>b(()=>import("./Register-BRg8BP3V.js"),__vite__mapDeps([4,1]))),ve=a.lazy(()=>b(()=>import("./List-D7n0HuPv.js"),__vite__mapDeps([5,1]))),we=a.lazy(()=>b(()=>import("./Details-DYcIX8_M.js"),__vite__mapDeps([6,1]))),ke=a.lazy(()=>b(()=>import("./Order-DAtg-kEB.js"),__vite__mapDeps([7,1,2]))),Le=a.lazy(()=>b(()=>import("./OrderDetail-hy1BDqn3.js"),__vite__mapDeps([8,1])));function Ne(){const l=oe(),[t,u]=p.useState(!0),h=()=>u(!1);return p.useEffect(()=>{h()},[l.pathname]),e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx(ge,{onNavLinkClick:h}),t&&e.jsx("div",{className:"welcome-message",children:e.jsx("h2",{children:"Welcome to our website!"})}),e.jsx(re,{mode:"wait",children:e.jsxs(ne,{location:l,children:[e.jsx(g,{path:"/",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(j,{children:e.jsx(je,{})})})}),e.jsx(g,{path:"/login",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(j,{children:e.jsx(be,{})})})}),e.jsx(g,{path:"/register",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(j,{children:e.jsx(ye,{})})})}),e.jsx(g,{path:"/book/list",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(j,{children:e.jsx(ve,{})})})}),e.jsx(g,{path:"/book/view/:bookId",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(j,{children:e.jsx(we,{})})})}),e.jsx(g,{path:"/book/orders",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(j,{children:e.jsx(ke,{})})})}),e.jsx(g,{path:"/books/orders/:bookId",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(j,{children:e.jsx(Le,{})})})}),e.jsx(g,{path:"/Bookify",element:e.jsx(ie,{to:"/"})}),e.jsx(g,{path:"*",element:e.jsx("div",{children:"404 Page Not Found"})})]},l.pathname)})]})})}function _e(){return e.jsx(se,{basename:"/Bookify",children:e.jsx(Ne,{})})}ae(document.getElementById("root")).render(e.jsx(p.StrictMode,{children:e.jsx(ue,{children:e.jsx(_e,{})})}));export{de as u};
