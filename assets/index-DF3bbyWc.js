const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-C0w64kKT.js","assets/vendor-Br8sKS3x.js","assets/BookCard-DAqWIEkQ.js","assets/Login-BW5xYtWQ.js","assets/Register-C5jyVSep.js","assets/List-OzTVlPuy.js","assets/Details-CEE6ro4e.js","assets/Order-RwaUZqXO.js","assets/OrderDetail-DFGaUAGX.js","assets/Welcome-DPKO50Ay.js"])))=>i.map(i=>d[i]);
import{r as f,i as z,g as W,a as $,b as T,G as V,o as q,j as e,c as F,s as H,d as M,e as G,f as I,u as K,h as P,k as v,l as E,m as Y,n as X,p as Z,q as J,w as Q,t as ee,N as j,v as te,R as a,x as se,A as oe,y as re,z as m,B as ne,C as ie}from"./vendor-Br8sKS3x.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))x(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&x(r)}).observe(document,{childList:!0,subtree:!0});function u(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function x(o){if(o.ep)return;o.ep=!0;const n=u(o);fetch(o.href,n)}})();const ae="modulepreload",le=function(d){return"/Bookify/"+d},O={},g=function(t,u,x){let o=Promise.resolve();if(u&&u.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),c=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));o=Promise.allSettled(u.map(s=>{if(s=le(s),s in O)return;O[s]=!0;const b=s.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${w}`))return;const h=document.createElement("link");if(h.rel=b?"stylesheet":ae,b||(h.as="script"),h.crossOrigin="",h.href=s,c&&h.setAttribute("nonce",c),document.head.appendChild(h),b)return new Promise((L,_)=>{h.addEventListener("load",L),h.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${s}`)))})}))}function n(r){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=r,window.dispatchEvent(c),!c.defaultPrevented)throw r}return o.then(r=>{for(const c of r||[])c.status==="rejected"&&n(c.reason);return t().catch(n)})},C=f.createContext(null),ce={apiKey:"AIzaSyBANuZRXNFzSNxyMAagWDH2INUpYBcYhHc",authDomain:"bookify-4da1b.firebaseapp.com",projectId:"bookify-4da1b",storageBucket:"bookify-4da1b.appspot.com",messagingSenderId:"1040037251482",appId:"1:1040037251482:web:435d1ef946ec3bdc9ed223"},R=z(ce),k=W(R),y=$(R),S=T(R),de=new V,ue=()=>f.useContext(C),he=({children:d})=>{const[t,u]=f.useState(null);f.useEffect(()=>{const i=q(k,l=>{u(l||null)});return()=>i()},[]);const x=(i,l)=>F(k,i,l),o=(i,l)=>H(k,i,l),n=()=>M(k,de),r=()=>G(k),c=async(i,l,N,A)=>{const B=I(S,`uploads/images/${Date.now()}-${A.name}`),U=await K(B,A);await P(v(y,"books"),{name:i,isbn:l,price:N,imageURL:U.ref.fullPath,userID:t.uid,userEmail:t.email,displayName:t.displayName,photoURL:t.photoURL})},s=()=>E(v(y,"books")),b=async i=>{const l=Y(y,"books",i);return X(l)},w=i=>Z(I(S,i)),h=async(i,l)=>{const N=v(y,"books",i,"order");return P(N,{userID:t.uid,userEmail:t.email,displayName:t.displayName,photoURL:t.photoURL,qty:Number(l)})},L=async i=>{const l=J(v(y,"books"),Q("userID","==",i));return E(l)},_=async i=>{const l=v(y,"books",i,"order");return E(l)},D=!!t;return e.jsx(C.Provider,{value:{signupUserWithEmailAndPassword:x,signinUserWithEmailAndPassword:o,signinWithGoogle:n,handleCreateNewListing:c,listAllBooks:s,getImageURL:w,getBookById:b,placeOrder:h,fetchMyBooks:L,getOrders:_,logout:r,isLoggedIn:D,user:t},children:d})},xe="/Bookify/assets/Logo-Hb6gwIbO.png",me=()=>{const[d,t]=f.useState(!1),{currentUser:u,logout:x}=ue(),o=ee(),n=()=>{t(s=>!s)},r=async()=>{await x(),o("/login")},c=()=>{o("/login")};return e.jsx("div",{children:e.jsxs("nav",{className:"bg-[#202020] fixed w-full h-16 z-10",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between max-w-screen-xl py-4 mx-auto px-7",children:[e.jsxs("a",{href:"#",className:"flex items-center space-x-3 rtl:space-x-reverse",children:[e.jsx("img",{src:xe,className:"h-8",alt:"Bookify"}),e.jsx("span",{className:"self-center text-2xl font-light text-white font-girassol whitespace-nowrap",children:"Bookify"})]}),e.jsx("div",{className:"flex items-center lg:hidden",children:e.jsx("button",{onClick:n,className:"text-white",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})}),e.jsx("div",{className:"items-center justify-between hidden w-full text-lg font-normal lg:flex md:w-auto md:order-1",children:e.jsxs("ul",{className:"flex flex-col p-4 mt-4 md:p-0 lg:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0",children:[e.jsx("li",{children:e.jsx(j,{to:"/",className:({isActive:s})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:border-gray-700 ${s?"text-blue-700":""}`,children:"Home"})}),e.jsx("li",{children:e.jsx(j,{to:"/book/list",className:({isActive:s})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:border-gray-700 ${s?"text-blue-700":""}`,children:"Add Listing"})}),e.jsx("li",{children:e.jsx(j,{to:"/book/orders",className:({isActive:s})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:border-gray-700 ${s?"text-blue-700":""}`,children:"Orders"})}),e.jsx("li",{children:u?e.jsx("button",{onClick:r,className:"text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700",children:"Log Out"}):e.jsx("button",{onClick:c,className:"text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700",children:"Log In"})})]})})]}),e.jsx("div",{className:`${d?"max-h-screen opacity-100":"max-h-0 opacity-0"} lg:hidden overflow-hidden transition-all duration-500 ease-in-out`,children:e.jsxs("ul",{className:"flex flex-col p-4 space-y-2 bg-gray-800",children:[e.jsx("li",{children:e.jsx(j,{to:"/",className:({isActive:s})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 ${s?"text-blue-700":""}`,onClick:()=>t(!1),children:"Home"})}),e.jsx("li",{children:e.jsx(j,{to:"/book/list",className:({isActive:s})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 ${s?"text-blue-700":""}`,onClick:()=>t(!1),children:"Add Listing"})}),e.jsx("li",{children:e.jsx(j,{to:"/book/orders",className:({isActive:s})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 ${s?"text-blue-700":""}`,onClick:()=>t(!1),children:"Orders"})}),e.jsx("li",{children:u?e.jsx("button",{onClick:()=>{r(),t(!1)},className:"px-3 py-2 text-white rounded hover:bg-gray-700",children:"Log Out"}):e.jsx("button",{onClick:()=>{c(),t(!1)},className:"px-3 py-2 text-white rounded hover:bg-gray-700",children:"Log In"})})]})})]})})},pe={initial:{opacity:0,x:"-100vw"},in:{opacity:1,x:0},out:{opacity:0,x:"100vw"}},ge={duration:.5,ease:"easeInOut"},p=({children:d})=>e.jsx(te.div,{initial:"initial",animate:"in",exit:"out",variants:pe,transition:ge,children:d}),fe=a.lazy(()=>g(()=>import("./Home-C0w64kKT.js"),__vite__mapDeps([0,1,2]))),be=a.lazy(()=>g(()=>import("./Login-BW5xYtWQ.js"),__vite__mapDeps([3,1]))),je=a.lazy(()=>g(()=>import("./Register-C5jyVSep.js"),__vite__mapDeps([4,1]))),ye=a.lazy(()=>g(()=>import("./List-OzTVlPuy.js"),__vite__mapDeps([5,1]))),ve=a.lazy(()=>g(()=>import("./Details-CEE6ro4e.js"),__vite__mapDeps([6,1]))),ke=a.lazy(()=>g(()=>import("./Order-RwaUZqXO.js"),__vite__mapDeps([7,1,2]))),we=a.lazy(()=>g(()=>import("./OrderDetail-DFGaUAGX.js"),__vite__mapDeps([8,1]))),Le=a.lazy(()=>g(()=>import("./Welcome-DPKO50Ay.js"),__vite__mapDeps([9,1])));function _e(){const d=se(),[t,u]=f.useState(!0),x=()=>{u(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx(me,{onNavClick:x})," ",e.jsx(oe,{mode:"wait",children:e.jsxs(re,{location:d,children:[t&&e.jsx(m,{path:"/welcome",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(Le,{})})})}),e.jsx(m,{path:"/",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(fe,{})})})}),e.jsx(m,{path:"/login",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(be,{})})})}),e.jsx(m,{path:"/register",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(je,{})})})}),e.jsx(m,{path:"/book/list",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(ye,{})})})}),e.jsx(m,{path:"/book/view/:bookId",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(ve,{})})})}),e.jsx(m,{path:"/book/orders",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(ke,{})})})}),e.jsx(m,{path:"/books/orders/:bookId",element:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(we,{})})})})]},d.pathname)})]})})}ne(document.getElementById("root")).render(e.jsx(f.StrictMode,{children:e.jsx(ie,{children:e.jsx(he,{children:e.jsx(_e,{})})})}));export{ue as u};
