import{D as f,r as l,j as e}from"./vendor-Br8sKS3x.js";import{u as b}from"./index-Cx_-RZKP.js";const N=()=>{const i=f(),n=b(),[c,d]=l.useState(1),[t,o]=l.useState(null),[m,g]=l.useState(null),[u,r]=l.useState(!1),[h,x]=l.useState(!1);l.useEffect(()=>{n.getBookById(i.bookId).then(s=>o(s.data()))},[]);const p=async()=>{if(!n.isLoggedIn){x(!0);return}const a=await n.placeOrder(i.bookId,c);console.log("Order Placed",a),r(!0),setTimeout(()=>{r(!1)},1e4)};return l.useEffect(()=>{if(t){const s=t.imageURL;n.getImageURL(s).then(a=>g(a))}},[t]),t==null?e.jsx("h1",{children:"Loading..."}):e.jsxs("div",{className:"bg-custom-radial flex justify-center items-center h-screen lg:pt-20 md:p-10 px-5 pt-10 w-full mt-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-evenly gap-5 lg:gap-10 bg-[#3B3B3B] p-5 items-center rounded-xl lg:w-[800px] md:w-[650px] sm:w-[400px] w-[300px]",children:[e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsx("img",{src:m,alt:"Book",className:"w-40 rounded-lg lg:w-64 md:w-60"})}),e.jsxs("div",{className:"flex flex-col items-start justify-center w-full gap-2 text-white lg:gap-5 md:gap-3",children:[e.jsx("h1",{className:"text-2xl font-medium md:text-4xl lg:text-4xl",children:t.name}),e.jsx("h1",{className:"text-lg text-blue-300 underline",children:"Details :"}),e.jsxs("div",{className:"flex flex-col gap-1 text-sm tracking-wider lg:text-xl lg:gap-2 md:text-lg",children:[e.jsxs("p",{children:["ISBN Number: ",t.isbn," "]}),e.jsxs("h4",{children:["Price : Rs. ",t.price]})]}),e.jsx("h1",{className:"text-lg text-blue-300 underline",children:"Owner Details "}),e.jsxs("div",{className:"flex flex-col gap-1 text-sm tracking-wider lg:gap-2 md:gap-1 lg:text-xl md:text-lg",children:[e.jsxs("p",{children:["Name: ",t.displayName]}),e.jsxs("p",{children:["Email: ",t.userEmail]})]}),e.jsxs("div",{className:"flex justify-between w-full mt-3",children:[e.jsxs("form",{className:"w-[120px] h-11 flex justify-center  items-center",children:[e.jsx("div",{className:"inline-block bg-[#2C2C2C]  w-11 h-11 text-center leading-10 select-none rounded-l-xl hover:cursor-pointer",onClick:()=>d(s=>s>0?s-1:0),children:"-"}),e.jsx("input",{type:"number",id:"number",value:c,readOnly:!0,className:"text-center bg-[#2C2C2C]  w-11 h-11 outline-none"}),e.jsx("div",{className:"inline-block bg-[#2C2C2C]  w-11 h-11 text-center leading-10 select-none rounded-r-xl hover:cursor-pointer",onClick:()=>d(s=>s+1),children:"+"})]}),e.jsx("button",{className:"px-3 py-2 text-sm font-medium text-white bg-green-700 rounded-lg hover:bg-green-900 focus:ring-4 focus:ring-blue-300 sm:text-sm md:text-base lg:text-lg ",onClick:p,children:"Buy Now"})]})]})]}),u&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-[#2C2C2C] bg-opacity-50 ",children:e.jsxs("div",{className:"relative py-4 pl-4 text-center text-white bg-green-600 rounded-md shadow-lg pr-14",children:[e.jsx("p",{children:"Order Placed!"}),e.jsx("button",{className:"absolute px-3 py-1 mx-2 text-green-500 bg-white rounded-full top-3 right-1 hover:bg-gray-300",onClick:()=>r(!1),children:"X"})]})}),h&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-[#2C2C2C] text-white p-6 rounded-lg text-center shadow-xl",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Please login to place an order"}),e.jsx("button",{className:"px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-700",onClick:()=>x(!1),children:"OK"})]})})]})};export{N as default};
