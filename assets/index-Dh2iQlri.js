const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-BR0GSGo9.js","assets/vendor-Br8sKS3x.js","assets/BookCard-CWqUT6Ds.js","assets/Login-My51_Ire.js","assets/Register-BpSpds7M.js","assets/List-C-xFT7aj.js","assets/Details-0ajqGUwv.js","assets/Order-mG0vRsFl.js","assets/OrderDetail-Ban3pHbZ.js","assets/Welcome-DPKO50Ay.js"])))=>i.map(i=>d[i]);
import{r as l,i as W,g as $,a as T,b as V,G as q,o as F,j as e,c as H,s as M,d as G,e as K,f as I,u as Y,h as P,k as v,l as E,m as X,n as Z,p as J,q as Q,w as ee,t as te,N as j,v as se,R as g,x as oe,A as re,y as ne,z as m,B as ie,C as ae}from"./vendor-Br8sKS3x.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))x(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&x(r)}).observe(document,{childList:!0,subtree:!0});function u(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function x(o){if(o.ep)return;o.ep=!0;const n=u(o);fetch(o.href,n)}})();const le="modulepreload",ce=function(d){return"/Bookify/"+d},O={},f=function(t,u,x){let o=Promise.resolve();if(u&&u.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),c=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));o=Promise.allSettled(u.map(s=>{if(s=ce(s),s in O)return;O[s]=!0;const b=s.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${w}`))return;const h=document.createElement("link");if(h.rel=b?"stylesheet":le,b||(h.as="script"),h.crossOrigin="",h.href=s,c&&h.setAttribute("nonce",c),document.head.appendChild(h),b)return new Promise((L,_)=>{h.addEventListener("load",L),h.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${s}`)))})}))}function n(r){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=r,window.dispatchEvent(c),!c.defaultPrevented)throw r}return o.then(r=>{for(const c of r||[])c.status==="rejected"&&n(c.reason);return t().catch(n)})},D=l.createContext(null),de={apiKey:"AIzaSyBANuZRXNFzSNxyMAagWDH2INUpYBcYhHc",authDomain:"bookify-4da1b.firebaseapp.com",projectId:"bookify-4da1b",storageBucket:"bookify-4da1b.appspot.com",messagingSenderId:"1040037251482",appId:"1:1040037251482:web:435d1ef946ec3bdc9ed223"},R=W(de),k=$(R),y=T(R),S=V(R),ue=new q,he=()=>l.useContext(D),xe=({children:d})=>{const[t,u]=l.useState(null);l.useEffect(()=>{const i=F(k,a=>{u(a||null)});return()=>i()},[]);const x=(i,a)=>H(k,i,a),o=(i,a)=>M(k,i,a),n=()=>G(k,ue),r=()=>K(k),c=async(i,a,N,A)=>{const U=I(S,`uploads/images/${Date.now()}-${A.name}`),z=await Y(U,A);await P(v(y,"books"),{name:i,isbn:a,price:N,imageURL:z.ref.fullPath,userID:t.uid,userEmail:t.email,displayName:t.displayName,photoURL:t.photoURL})},s=()=>E(v(y,"books")),b=async i=>{const a=X(y,"books",i);return Z(a)},w=i=>J(I(S,i)),h=async(i,a)=>{const N=v(y,"books",i,"order");return P(N,{userID:t.uid,userEmail:t.email,displayName:t.displayName,photoURL:t.photoURL,qty:Number(a)})},L=async i=>{const a=Q(v(y,"books"),ee("userID","==",i));return E(a)},_=async i=>{const a=v(y,"books",i,"order");return E(a)},B=!!t;return e.jsx(D.Provider,{value:{signupUserWithEmailAndPassword:x,signinUserWithEmailAndPassword:o,signinWithGoogle:n,handleCreateNewListing:c,listAllBooks:s,getImageURL:w,getBookById:b,placeOrder:h,fetchMyBooks:L,getOrders:_,logout:r,isLoggedIn:B,user:t},children:d})},me="/Bookify/assets/Logo-Hb6gwIbO.png",pe=()=>{const[d,t]=l.useState(!1),{currentUser:u,logout:x}=he(),o=te(),n=()=>{t(s=>!s)},r=async()=>{await x(),o("/login")},c=()=>{o("/login")};return e.jsx("div",{children:e.jsxs("nav",{className:"bg-[#202020] fixed w-full h-16 z-10",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between max-w-screen-xl py-4 mx-auto px-7",children:[e.jsxs("a",{href:"#",className:"flex items-center space-x-3 rtl:space-x-reverse",children:[e.jsx("img",{src:me,className:"h-8",alt:"Bookify"}),e.jsx("span",{className:"self-center text-2xl font-light text-white font-girassol whitespace-nowrap",children:"Bookify"})]}),e.jsx("div",{className:"flex items-center lg:hidden",children:e.jsx("button",{onClick:n,className:"text-white",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})}),e.jsx("div",{className:"items-center justify-between hidden w-full text-lg font-normal lg:flex md:w-auto md:order-1",children:e.jsxs("ul",{className:"flex flex-col p-4 mt-4 md:p-0 lg:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0",children:[e.jsx("li",{children:e.jsx(j,{to:"/",className:({isActive:s})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:border-gray-700 ${s?"text-blue-700":""}`,children:"Home"})}),e.jsx("li",{children:e.jsx(j,{to:"/book/list",className:({isActive:s})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:border-gray-700 ${s?"text-blue-700":""}`,children:"Add Listing"})}),e.jsx("li",{children:e.jsx(j,{to:"/book/orders",className:({isActive:s})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:border-gray-700 ${s?"text-blue-700":""}`,children:"Orders"})}),e.jsx("li",{children:u?e.jsx("button",{onClick:r,className:"text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700",children:"Log Out"}):e.jsx("button",{onClick:c,className:"text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700",children:"Log In"})})]})})]}),e.jsx("div",{className:`${d?"max-h-screen opacity-100":"max-h-0 opacity-0"} lg:hidden overflow-hidden transition-all duration-500 ease-in-out`,children:e.jsxs("ul",{className:"flex flex-col p-4 space-y-2 bg-gray-800",children:[e.jsx("li",{children:e.jsx(j,{to:"/",className:({isActive:s})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 ${s?"text-blue-700":""}`,onClick:()=>t(!1),children:"Home"})}),e.jsx("li",{children:e.jsx(j,{to:"/book/list",className:({isActive:s})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 ${s?"text-blue-700":""}`,onClick:()=>t(!1),children:"Add Listing"})}),e.jsx("li",{children:e.jsx(j,{to:"/book/orders",className:({isActive:s})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 ${s?"text-blue-700":""}`,onClick:()=>t(!1),children:"Orders"})}),e.jsx("li",{children:u?e.jsx("button",{onClick:()=>{r(),t(!1)},className:"px-3 py-2 text-white rounded hover:bg-gray-700",children:"Log Out"}):e.jsx("button",{onClick:()=>{c(),t(!1)},className:"px-3 py-2 text-white rounded hover:bg-gray-700",children:"Log In"})})]})})]})})},ge={initial:{opacity:0,x:"-100vw"},in:{opacity:1,x:0},out:{opacity:0,x:"100vw"}},fe={duration:.5,ease:"easeInOut"},p=({children:d})=>e.jsx(se.div,{initial:"initial",animate:"in",exit:"out",variants:ge,transition:fe,children:d}),be=g.lazy(()=>f(()=>import("./Home-BR0GSGo9.js"),__vite__mapDeps([0,1,2]))),je=g.lazy(()=>f(()=>import("./Login-My51_Ire.js"),__vite__mapDeps([3,1]))),ye=g.lazy(()=>f(()=>import("./Register-BpSpds7M.js"),__vite__mapDeps([4,1]))),ve=g.lazy(()=>f(()=>import("./List-C-xFT7aj.js"),__vite__mapDeps([5,1]))),ke=g.lazy(()=>f(()=>import("./Details-0ajqGUwv.js"),__vite__mapDeps([6,1]))),we=g.lazy(()=>f(()=>import("./Order-mG0vRsFl.js"),__vite__mapDeps([7,1,2]))),Le=g.lazy(()=>f(()=>import("./OrderDetail-Ban3pHbZ.js"),__vite__mapDeps([8,1]))),C=g.lazy(()=>f(()=>import("./Welcome-DPKO50Ay.js"),__vite__mapDeps([9,1])));function _e(){const d=oe(),[t,u]=l.useState(!0),x=()=>{u(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx(pe,{onNavClick:x})," ",e.jsx(re,{mode:"wait",children:e.jsxs(ne,{location:d,children:[t&&e.jsx(m,{path:"/welcome",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(C,{})})})}),e.jsx(m,{path:"/",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:t?e.jsx(C,{}):e.jsx(be,{})})})}),e.jsx(m,{path:"/login",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(je,{})})})}),e.jsx(m,{path:"/register",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(ye,{})})})}),e.jsx(m,{path:"/book/list",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(ve,{})})})}),e.jsx(m,{path:"/book/view/:bookId",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(ke,{})})})}),e.jsx(m,{path:"/book/orders",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(we,{})})})}),e.jsx(m,{path:"/books/orders/:bookId",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(p,{children:e.jsx(Le,{})})})})]},d.pathname)})]})})}ie(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(ae,{children:e.jsx(xe,{children:e.jsx(_e,{})})})}));export{he as u};
