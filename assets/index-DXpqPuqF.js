const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-CW1zHHcE.js","assets/vendor-D4byKn7k.js","assets/Register-D-My9--B.js","assets/List-Cy_NoXrP.js","assets/Details-CV2NeC86.js","assets/Order-B72BUojD.js","assets/OrderDetail-D8cNT1Bx.js"])))=>i.map(i=>d[i]);
import{r as l,i as V,g as W,a as q,b as F,G as H,o as M,j as e,c as G,s as K,d as Y,e as X,f as B,u as Z,h as P,k as v,l as I,m as J,n as Q,p as ee,q as te,w as se,t as U,N as p,v as k,R as j,x as oe,A as re,y as ne,z as m,B as ie,C as ae}from"./vendor-D4byKn7k.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))x(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&x(n)}).observe(document,{childList:!0,subtree:!0});function u(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function x(t){if(t.ep)return;t.ep=!0;const r=u(t);fetch(t.href,r)}})();const le="modulepreload",ce=function(i){return"/Bookify/"+i},S={},y=function(s,u,x){let t=Promise.resolve();if(u&&u.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),c=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));t=Promise.allSettled(u.map(o=>{if(o=ce(o),o in S)return;S[o]=!0;const f=o.endsWith(".css"),N=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${N}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":le,f||(h.as="script"),h.crossOrigin="",h.href=o,c&&h.setAttribute("nonce",c),document.head.appendChild(h),f)return new Promise((L,E)=>{h.addEventListener("load",L),h.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${o}`)))})}))}function r(n){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=n,window.dispatchEvent(c),!c.defaultPrevented)throw n}return t.then(n=>{for(const c of n||[])c.status==="rejected"&&r(c.reason);return s().catch(r)})},de="/Bookify/assets/Logo-Hb6gwIbO.png",D=l.createContext(null),ue={apiKey:"AIzaSyBANuZRXNFzSNxyMAagWDH2INUpYBcYhHc",authDomain:"bookify-4da1b.firebaseapp.com",projectId:"bookify-4da1b",storageBucket:"bookify-4da1b.appspot.com",messagingSenderId:"1040037251482",appId:"1:1040037251482:web:435d1ef946ec3bdc9ed223"},_=V(ue),w=W(_),b=q(_),C=F(_),xe=new H,A=()=>l.useContext(D),he=({children:i})=>{const[s,u]=l.useState(null);l.useEffect(()=>{const a=M(w,d=>{u(d||null)});return()=>a()},[]);const x=(a,d)=>G(w,a,d),t=(a,d)=>K(w,a,d),r=()=>Y(w,xe),n=()=>X(w),c=async(a,d,R,O)=>{const z=B(C,`uploads/images/${Date.now()}-${O.name}`),T=await Z(z,O);await P(v(b,"books"),{name:a,isbn:d,price:R,imageURL:T.ref.fullPath,userID:s.uid,userEmail:s.email,displayName:s.displayName,photoURL:s.photoURL})},o=()=>I(v(b,"books")),f=async a=>{const d=J(b,"books",a);return Q(d)},N=a=>ee(B(C,a)),h=async(a,d)=>{const R=v(b,"books",a,"order");return P(R,{userID:s.uid,userEmail:s.email,displayName:s.displayName,photoURL:s.photoURL,qty:Number(d)})},L=async a=>{const d=te(v(b,"books"),se("userID","==",a));return I(d)},E=async a=>{const d=v(b,"books",a,"order");return I(d)},$=!!s;return e.jsx(D.Provider,{value:{signupUserWithEmailAndPassword:x,signinUserWithEmailAndPassword:t,signinWithGoogle:r,handleCreateNewListing:c,listAllBooks:o,getImageURL:N,getBookById:f,placeOrder:h,fetchMyBooks:L,getOrders:E,logout:n,isLoggedIn:$,user:s},children:i})},me=()=>{const[i,s]=l.useState(!1),{currentUser:u,logout:x}=A(),t=U(),r=()=>{s(o=>!o)},n=async()=>{await x(),t("/login")},c=()=>{t("/login")};return e.jsx("div",{children:e.jsxs("nav",{className:"bg-[#202020] fixed w-full h-16 z-10",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between max-w-screen-xl py-4 mx-auto px-7 ",children:[e.jsxs("a",{href:"#",className:"flex items-center space-x-3 rtl:space-x-reverse",children:[e.jsx("img",{src:de,className:"h-8",alt:"Bookify"}),e.jsx("span",{className:"self-center text-2xl font-light text-white font-girassol whitespace-nowrap",children:"Bookify"})]}),e.jsx("div",{className:"flex items-center lg:hidden",children:e.jsx("button",{onClick:r,className:"text-white",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})}),e.jsx("div",{className:"items-center justify-between hidden w-full text-lg font-normal lg:flex md:w-auto md:order-1",children:e.jsxs("ul",{className:"flex flex-col p-4 mt-4 md:p-0 lg:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 ",children:[e.jsx("li",{children:e.jsx(p,{to:"/",className:({isActive:o})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:border-gray-700 ${o?"text-blue-700":""}`,children:"Home"})}),e.jsx("li",{children:e.jsx(p,{to:"/book/list",className:({isActive:o})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:border-gray-700 ${o?"text-blue-700":""}`,children:"Add Listing"})}),e.jsx("li",{children:e.jsx(p,{to:"/book/orders",className:({isActive:o})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:border-gray-700 ${o?"text-blue-700":""}`,children:"Orders"})}),e.jsx("li",{children:u?e.jsx("button",{onClick:n,className:"text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700",children:"Log Out"}):e.jsx("button",{onClick:c,className:"text-white rounded hover:bg-gray-700 md:hover:bg-transparent md:hover:text-blue-700",children:"Log In"})})]})})]}),e.jsx("div",{className:`${i?"max-h-screen opacity-100":"max-h-0 opacity-0"} lg:hidden overflow-hidden transition-all duration-500 ease-in-out`,children:e.jsxs("ul",{className:"flex flex-col p-4 space-y-2 bg-gray-800",children:[e.jsx("li",{children:e.jsx(p,{to:"/",className:({isActive:o})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 ${o?"text-blue-700":""}`,onClick:()=>s(!1),children:"Home"})}),e.jsx("li",{children:e.jsx(p,{to:"/book/list",className:({isActive:o})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 ${o?"text-blue-700":""}`,onClick:()=>s(!1),children:"Add Listing"})}),e.jsx("li",{children:e.jsx(p,{to:"/book/orders",className:({isActive:o})=>`block py-2 px-3 text-white rounded hover:bg-gray-700 ${o?"text-blue-700":""}`,onClick:()=>s(!1),children:"Orders"})}),e.jsx("li",{children:u?e.jsx("button",{onClick:()=>{n(),s(!1)},className:"px-3 py-2 text-white rounded hover:bg-gray-700",children:"Log Out"}):e.jsx("button",{onClick:()=>{c(),s(!1)},className:"px-3 py-2 text-white rounded hover:bg-gray-700",children:"Log In"})})]})})]})})},ge={initial:{opacity:0,x:"-100vw"},in:{opacity:1,x:0},out:{opacity:0,x:"100vw"}},fe={duration:.5,ease:"easeInOut"},g=({children:i})=>e.jsx(k.div,{initial:"initial",animate:"in",exit:"out",variants:ge,transition:fe,children:i}),pe=i=>{const s=A(),u=U(),[x,t]=l.useState(null);l.useEffect(()=>{s.getImageURL(i.imageURL).then(c=>t(c))},[i.imageURL]);const r={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.46,.45,.94]}}},n={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{duration:1,ease:"easeInOut"}}};return e.jsxs(k.div,{className:`bg-[#3B3B3B] border border-gray-700 rounded-lg p-6 \r
      flex flex-row justify-evenly items-center gap-5 \r
      sm:h-[250px] md:h-[300px] lg:h-[320px] sm:w-[280px] md:w-[360px] lg:w-[490px] box-border`,initial:"hidden",animate:"visible",variants:r,children:[e.jsx("div",{className:"flex items-center justify-center w-full",children:x&&e.jsx(k.img,{src:x,alt:i.name,className:"object-cover rounded-lg sm:h-48 md:h-56 lg:h-60",variants:n})}),e.jsxs("div",{className:"flex flex-col items-start w-full gap-5",children:[e.jsx("h1",{className:"text-lg font-bold text-left text-white sm:text-xs md:text-xl lg:text-3xl",children:i.name}),e.jsxs("p",{className:"text-sm font-medium tracking-wider text-left text-gray-300 sm:text-base md:text-sm",children:["This Book has a title ",i.name," and is sold by ",i.displayName,". It costs Rs. ",i.price,"."]}),e.jsx(k.button,{className:"px-3 py-2 text-sm font-medium text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 sm:text-sm md:text-base lg:text-lg",onClick:()=>u(i.link),whileHover:{scale:1.05},transition:{duration:.3,ease:"easeInOut"},children:"View"})]})]})},be=j.lazy(()=>y(()=>import("./Login-CW1zHHcE.js"),__vite__mapDeps([0,1]))),je=j.lazy(()=>y(()=>import("./Register-D-My9--B.js"),__vite__mapDeps([2,1]))),ye=j.lazy(()=>y(()=>import("./List-Cy_NoXrP.js"),__vite__mapDeps([3,1]))),ve=j.lazy(()=>y(()=>import("./Details-CV2NeC86.js"),__vite__mapDeps([4,1]))),we=j.lazy(()=>y(()=>import("./Order-B72BUojD.js"),__vite__mapDeps([5,1]))),ke=j.lazy(()=>y(()=>import("./OrderDetail-D8cNT1Bx.js"),__vite__mapDeps([6,1]))),Ne=()=>{const i=oe(),s=A(),[u,x]=l.useState([]);return l.useEffect(()=>{(async()=>{const r=await s.listAllBooks();x(r.docs)})()},[s]),e.jsxs(e.Fragment,{children:[e.jsx(me,{}),e.jsx(re,{mode:"wait",children:e.jsxs(ne,{location:i,children:[e.jsx(m,{path:"/",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(g,{children:e.jsx("div",{className:`bg-custom-radial h-auto w-full flex flex-col items-center\r
                    md:flex-row lg:flex-row md:justify-center gap-5 px-3  overflow-y-scroll pt-24 pb-8  scrollbar`,children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 gap-4 w-full max-w-screen-lg place-content-center",children:u.map(t=>e.jsx("div",{className:"flex justify-center",children:e.jsx(pe,{id:t.id,link:`/book/view/${t.id}`,...t.data(),className:"w-full"})},t.id))})})})})}),e.jsx(m,{path:"/login",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(g,{children:e.jsx(be,{})})})}),e.jsx(m,{path:"/register",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(g,{children:e.jsx(je,{})})})}),e.jsx(m,{path:"/book/list",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(g,{children:e.jsx(ye,{})})})}),e.jsx(m,{path:"/book/view/:bookId",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(g,{children:e.jsx(ve,{})})})}),e.jsx(m,{path:"/book/orders",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(g,{children:e.jsx(we,{})})})}),e.jsx(m,{path:"/books/orders/:bookId",element:e.jsx(l.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(g,{children:e.jsx(ke,{})})})})]},i.pathname)})]})};function Le(){return e.jsx(Ne,{})}ie(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(ae,{children:e.jsx(he,{children:e.jsx(Le,{})})})}));export{pe as B,A as u};
